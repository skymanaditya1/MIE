@using Microsoft.AspNet.Identity
@if (Request.IsAuthenticated)
{
    using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm", @class = "navbar-right" }))
    {
    @Html.AntiForgeryToken()

    <ul class="nav navbar-nav navbar-right">
        <li>
            @Html.ActionLink("Hello " + User.Identity.GetUserName() + "!", "Index", "Manage", routeValues: null, htmlAttributes: new { title = "Manage" })
        </li>
        <li><a href="javascript:document.getElementById('logoutForm').submit()">Log off</a></li>
    </ul>
    }
}
else
{
    <ul class="nav navbar-nav navbar-right">
        <!--Disables form registration-->
        <!--<li>@Html.ActionLink("Register", "Register", "Account", routeValues: null, htmlAttributes: new { id = "registerLink" })</li>-->
        @*<li><a href="/Account/ExternalLogin/?provider=OpenIdConnect">Sign In</a></li>*@
        @*<li>@Html.ActionLink("Log in", "Login", "Account", routeValues: null, htmlAttributes: new { id = "loginLink" })</li>*@
        <li>
            <form action="/Account/ExternalLogin" method="post">
                @Html.AntiForgeryToken()
                <div class="dropdown"  style="vertical-align:bottom;">
                    <button class="btn dropdown-toggle" type="button" data-toggle="dropdown"  style="height:50px;background-color:transparent;color:#9d9d9d;">
                        Log in
                        <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu">
                        @*<li><a href="/Account/ExternalLoginShortcut?provider=Microsoft">Microsoft</a></li>
                    <li><a href="/Account/ExternalLoginShortcut?provider=OpenIdConnect">Office 365</a></li>
                    <li><a href="/Account/ExternalLoginShortcut?provider=Google">Google</a></li>
                    <li><a href="/Account/ExternalLoginShortcut?provider=Facebook">Facebook</a></li>
                    <li><a href="/Account/ExternalLoginShortcut?provider=Yahoo">Yahoo</a></li>*@

                        <li>
                            <button style="width:160px;" type="submit" class="btn btn-default" id="Google" name="provider" value="Google" title="Log in using your Google account">
                                <img width="32" height="32" src="~/Content/Icons/google-logo.png" alt="" style="padding: 3px">Google
                            </button>
                        </li>
                        <li>
                            <button style="width:160px;" type="submit" class="btn btn-default" id="Microsoft" name="provider" value="Microsoft" title="Log in using your Microsoft account">
                                <img width="32" height="32" src="~/Content/Icons/microsoft-logo.png" alt="" style="padding: 3px">Microsoft
                            </button>
                        </li>
                        <li>
                            <button style="width:160px;" type="submit" class="btn btn-default" id="Yahoo" name="provider" value="Yahoo" title="Log in using your Yahoo account">
                                <img width="32" height="32" src="~/Content/Icons/yahoo-logo.png" alt="" style="padding: 3px">Yahoo
                            </button>
                        </li>
                        <li>
                            <button style="width:160px;" type="submit" class="btn btn-default" id="Facebook" name="provider" value="Facebook" title="Log in using your Facebook account">
                                <img width="32" height="32" src="~/Content/Icons/facebook-logo.png" alt="" style="padding: 3px">Facebook
                            </button>
                        </li>
                        <li>
                            <button style="width:160px;" type="submit" class="btn btn-default" id="OpenIdConnect" name="provider" value="OpenIdConnect" title="Log in using your OpenIdConnect account">
                                <img width="32" height="32" src="~/Content/Icons/o365-logo.png" alt="" style="padding: 3px">Office 365
                            </button>
                        </li>
                    </ul>
                </div>
            </form>
        </li>
    </ul>
}
